<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Coisa Rápida - Painel Admin</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- Login Page -->
    <div id="loginPage" class="login-page">
        <div class="login-container">
            <div class="login-header">
                <i class="fas fa-shield-halved"></i>
                <h1>Coisa Rápida</h1>
                <p>Painel Administrativo</p>
            </div>

            <form id="loginForm" class="login-form">
                <div class="form-group">
                    <label for="email">Email</label>
                    <input type="email" id="email" required placeholder="admin@coisarapida.com">
                </div>

                <div class="form-group">
                    <label for="password">Senha</label>
                    <input type="password" id="password" required placeholder="Digite sua senha">
                </div>

                <button type="submit" class="btn-login">
                    <i class="fas fa-sign-in-alt"></i> Entrar
                </button>
            </form>

            <div id="loginMessage" class="login-message"></div>
        </div>
    </div>

    <!-- Admin Panel (hidden by default) -->
    <div id="adminPanel" class="admin-panel" style="display: none;">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <div class="logo">
                    <i class="fas fa-shield-halved"></i>
                    <h1>Coisa Rápida - Admin</h1>
                </div>
                <div class="user-info">
                    <span id="adminName">Administrador</span>
                    <button id="logoutBtn" class="btn-logout">
                        <i class="fas fa-sign-out-alt"></i> Sair
                    </button>
                </div>
            </div>
        </header>

        <!-- Main Container -->
        <div class="container">
            <!-- Sidebar -->
            <aside class="sidebar">
                <nav class="nav-menu">
                    <a href="#" class="nav-item active" data-view="verificacoes">
                        <i class="fas fa-clipboard-check"></i>
                        <span>Verificações Pendentes</span>
                        <span id="badgePendentes" class="badge">0</span>
                    </a>
                    <a href="#" class="nav-item" data-view="historico">
                        <i class="fas fa-history"></i>
                        <span>Histórico</span>
                    </a>
                    <a href="#" class="nav-item" data-view="estatisticas">
                        <i class="fas fa-chart-bar"></i>
                        <span>Estatísticas</span>
                    </a>
                </nav>
            </aside>

            <!-- Main Content -->
            <main class="main-content">
                <!-- Verificações Pendentes -->
                <div id="verificacoesView" class="view active">
                    <div class="view-header">
                        <h2>Verificações Pendentes</h2>
                        <button id="refreshBtn" class="btn-refresh">
                            <i class="fas fa-sync-alt"></i> Atualizar
                        </button>
                    </div>

                    <!-- Filtros -->
                    <div class="filters">
                        <button class="filter-btn active" data-filter="todas">
                            Todas <span id="countTodas">0</span>
                        </button>
                        <button class="filter-btn" data-filter="residencia">
                            <i class="fas fa-home"></i> Residência <span id="countResidencia">0</span>
                        </button>
                        <button class="filter-btn" data-filter="telefone">
                            <i class="fas fa-phone"></i> Telefone <span id="countTelefone">0</span>
                        </button>
                    </div>

                    <!-- Lista de Verificações -->
                    <div id="verificacoesList" class="verificacoes-list">
                        <!-- Carregando -->
                        <div id="loadingSpinner" class="loading">
                            <i class="fas fa-spinner fa-spin"></i>
                            <p>Carregando verificações...</p>
                        </div>

                        <!-- Vazio -->
                        <div id="emptyState" class="empty-state" style="display: none;">
                            <i class="fas fa-check-circle"></i>
                            <h3>Nenhuma verificação pendente</h3>
                            <p>Todas as verificações foram processadas!</p>
                        </div>

                        <!-- Cards serão inseridos aqui via JavaScript -->
                    </div>
                </div>

                <!-- Histórico -->
                <div id="historicoView" class="view">
                    <div class="view-header">
                        <h2>Histórico de Verificações</h2>
                        <input type="search" id="searchHistorico" placeholder="Buscar por nome ou email..." class="search-input">
                    </div>
                    <div id="historicoList" class="historico-list">
                        <!-- Será preenchido via JavaScript -->
                    </div>
                </div>

                <!-- Estatísticas -->
                <div id="estatisticasView" class="view">
                    <div class="view-header">
                        <h2>Estatísticas</h2>
                    </div>
                    <div class="stats-grid">
                        <div class="stat-card">
                            <i class="fas fa-clock"></i>
                            <h3 id="statPendentes">0</h3>
                            <p>Pendentes</p>
                        </div>
                        <div class="stat-card success">
                            <i class="fas fa-check"></i>
                            <h3 id="statAprovadas">0</h3>
                            <p>Aprovadas</p>
                        </div>
                        <div class="stat-card danger">
                            <i class="fas fa-times"></i>
                            <h3 id="statRejeitadas">0</h3>
                            <p>Rejeitadas</p>
                        </div>
                        <div class="stat-card info">
                            <i class="fas fa-percentage"></i>
                            <h3 id="statTaxa">0%</h3>
                            <p>Taxa de Aprovação</p>
                        </div>
                    </div>
                </div>
            </main>
        </div>

        <!-- Modal de Detalhes -->
        <div id="modalDetalhes" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>Detalhes da Verificação</h2>
                    <button class="modal-close">&times;</button>
                </div>
                <div class="modal-body">
                    <!-- Informações do Usuário -->
                    <div class="user-details">
                        <h3>Informações do Usuário</h3>
                        <div class="detail-grid">
                            <div class="detail-item">
                                <strong>Nome:</strong>
                                <span id="detailNome">-</span>
                            </div>
                            <div class="detail-item">
                                <strong>Email:</strong>
                                <span id="detailEmail">-</span>
                            </div>
                            <div class="detail-item">
                                <strong>Telefone:</strong>
                                <span id="detailTelefone">-</span>
                            </div>
                            <div class="detail-item">
                                <strong>Data de Cadastro:</strong>
                                <span id="detailDataCadastro">-</span>
                            </div>
                        </div>
                    </div>

                    <!-- Detalhes da Verificação -->
                    <div class="verification-details">
                        <h3>Detalhes da Verificação</h3>
                        <div class="detail-grid">
                            <div class="detail-item">
                                <strong>Tipo:</strong>
                                <span id="detailTipo">-</span>
                            </div>
                            <div class="detail-item">
                                <strong>Data da Solicitação:</strong>
                                <span id="detailDataSolicitacao">-</span>
                            </div>
                            <div class="detail-item full-width">
                                <strong>Tipo de Documento:</strong>
                                <span id="detailTipoDocumento">-</span>
                            </div>
                        </div>
                    </div>

                    <!-- Visualizador de Imagem -->
                    <div class="image-viewer">
                        <h3>Comprovante de Residência</h3>
                        <div class="image-container">
                            <img id="detailImagem" src="" alt="Comprovante" />
                            <div class="image-controls">
                                <button id="zoomIn" class="btn-icon" title="Aumentar">
                                    <i class="fas fa-search-plus"></i>
                                </button>
                                <button id="zoomOut" class="btn-icon" title="Diminuir">
                                    <i class="fas fa-search-minus"></i>
                                </button>
                                <button id="rotateBtn" class="btn-icon" title="Rotacionar">
                                    <i class="fas fa-rotate"></i>
                                </button>
                                <a id="downloadBtn" class="btn-icon" download title="Baixar">
                                    <i class="fas fa-download"></i>
                                </a>
                            </div>
                        </div>
                    </div>

                    <!-- Ações de Aprovação/Rejeição -->
                    <div class="action-section">
                        <h3>Decisão</h3>
                        <div class="action-buttons">
                            <button id="aprovarBtn" class="btn-approve">
                                <i class="fas fa-check"></i> Aprovar
                            </button>
                            <button id="rejeitarBtn" class="btn-reject">
                                <i class="fas fa-times"></i> Rejeitar
                            </button>
                        </div>

                        <!-- Formulário de Rejeição -->
                        <div id="rejeicaoForm" class="rejection-form" style="display: none;">
                            <label for="motivoRejeicao">Motivo da Rejeição:</label>
                            <textarea id="motivoRejeicao" rows="4" placeholder="Descreva o motivo da rejeição..."></textarea>
                            <div class="form-actions">
                                <button id="confirmarRejeicao" class="btn-confirm-reject">
                                    Confirmar Rejeição
                                </button>
                                <button id="cancelarRejeicao" class="btn-cancel">
                                    Cancelar
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Toast Notifications -->
        <div id="toastContainer" class="toast-container"></div>
    </div>

    <!-- Firebase SDKs -->
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-storage-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-functions-compat.js"></script>

    <!-- App Scripts -->
    <script src="config.js"></script>
    <script src="app.js"></script>
</body>
</html>
